# 기후위기 현황 및 관련 예산과 입법 분석
<p align="center"><img src="https://user-images.githubusercontent.com/109947297/210083149-e18b8423-9e04-48a7-a910-e4f8b5550e26.jpg" height="250"><p>
<p align="center"><img src="https://user-images.githubusercontent.com/109947297/210083165-14e76526-12ad-4105-8310-70c33c11b529.jpg" width="650" height="250"><p>
<p align="center"><img src="https://user-images.githubusercontent.com/109947297/210083230-29470a66-1d02-48a6-a287-046a51383e4b.jpg" height="200"><p>

### [관련 보고서 파일]
[5조 - 기후위기 현황 및  관련 예산과 입법 분석 보고서.pdf](https://github.com/anydevil0812/bootcamp_project/files/10325228/5.-.pdf)

### [진행 기간]
- 2022.09.21 ~ 2022.09.30

### [파일 목록]
- bill_count.py = 국내 기후변화 **의안수 선 그래프** 생성 파일
- bill_result.py = 국내 기후변화 **의안 처리결과 현황 막대&원그래프** 생성 파일
- bill_comparison.py = 2020~2022 국내 **기후변화&코로나 대응책 의안수 선 그래프** 생성 파일
- bill_keyword.py = 국내 기후변화 **의안 워드클라우드 및 단어 빈도수 TOP 15 그래프** 생성 파일
- report_keyword.py = 국내 기후변화 **보고서 워드클라우드 및 단어 빈도수 TOP 15 그래프** 생성 파일
- law_keyword.py = 국내 기후변화 **법령 워드클라우드 및 단어 빈도수 TOP 15 그래프** 생성 파일

### [맡은 역할 - 입법 파트] 
- 공공데이터 포털 국회사무처_의안 정보 **OPEN API**를 이용하여 2022년 9월 19일을 기준으로 국내 기후변화 의안 관련 데이터를 수집 및 전처리 진행 -> 국내 기후변화 관련 **의안수 변화 및 처리결과 현황** 분석 + 국내 기후변화 관련 **의안들의 기후변화 관련 키워드** 분석 
- 국내 기후변화 관련 보고서(제3차 국가 기후변화 적응대책) **PDF 파일**을 이용하여 데이터 수집 후 국내 기후변화 관련 **보고서의 기후변화 관련 키워드** 분석 
- 국내 기후변화 관련 법령 데이터를 워드 파일로 다운받은 뒤 각각의 문서들의 데이터를 **하나의 텍스트 파일**에 통합한 뒤 국내 기후변화 관련 **법령들의 기후변화 관련 키워드** 분석 

### [사용한 Python Package]
- **WordCloud**를 이용한 워드클라우드 시각화
- **BeautifulSoup, requests**를 이용한 크롤링
- **re 정규표현식**을 이용한 데이터 전처리
- **pandas**를 이용한 데이터프레임 생성
- **plotly, matplotlib**를 이용한 그래프 시각화 
- **konply**를 이용한 한글 형태소 분석
- **PyPDF2**를 이용한 PDF 텍스트 추출
- **Counter**를 이용한 데이터 개수 파악
- **os**를 이용한 경로 이동
- **glob**을 이용한 특정 조건을 만족하는 파일 리스트 작성
- **numpy**를 이용한 이미지 파일 np.array 변환
- **PIL**을 이용한 이미지 파일 처리

### [프로젝트 소개]

부트캠프에서 10일간 진행했던 팀 프로젝트입니다. 처음에는 **국내 기후 위기 현황,** 기후 위기 대응 **예산 편성 현황** 및 기후 위기 관련 **의안 발의 현황 분석 및 예측**을 목표로 잡았으나

처음에는 각 파트별로 2명, 총 6명이 진행한 프로젝트가 프로젝트 기간 중 일부 팀원들의 **불성실한 참여**로 인하여 **절반인 3명이 이탈하여 결국 저를 포함한 남은 3명이서 프로젝트를 진행**하였고

인원이 감축된 만큼 원래 진행하려 했던 목표에서 일정 부분을 포기하기로 하고 예산 파트 1명, 의안 파트 2명으로 나누어 선정했던 주제인 **기후 위기 대응 예산 편성 및 의안 발의에 대한 조사 및 시각화**를 진행하였습니다.

프로그래밍적으로도 그 외적으로도 **다사다난**했던 팀 프로젝트였지만 협업과 문제 해결 방식 그리고 **데이터 크롤링**에 있어서 많은 것들을 터득할 수 있었던 경험이었습니다.

### [프로젝트 진행 중 겪은 문제점 및 아쉬웠던 점]
### 협업 문제
1. 앞서 언급했듯이 **일부 팀원들의 불성실한 태도**와 뒤이어 이어진 **프로젝트 이탈**이 있었습니다. 애초에 **조를 정하지 못한 사람들끼리 편성**된 상황이라 설마했지만
**3일 동안** **작업중이라는 말만 하고** <br><br>중간 결과물을 보여 달라해도 **아무런 결과물을 보여주지 않아** 저를 포함해 적극적으로 참여했던 3명이 부트캠프 매니저님께 건의드려<br>
**결국 3명이서 진행**하여 인원이 부족하다보니 **진행하고 싶었던 부분도 포기**해야했던 부분이 가장 아쉬웠습니다.
### 개발 문제
1. **R**에서 **wordcloud2** 패키지의 **lettercloud** 함수를 이용하여 **데이터를 워드클라우드로 시각화**하려 했으나 이미지 지정 없이 **wordcloud2** 함수로 실행하면 잘 출력되는데<br><br>
**이미지를 지정해서 wordcloud2 함수를 실행**하거나 **lettercloud**를 이용해서 시각화를 하면 지정한 이미지나 글자만 출력되고 **데이터들은 출력이 되지 않았습니다.**
<br><br> ⇒ 결국 R을 이용하는 해결 방안을 찾지 못해 **R을 이용하여 워드클라우드를 시각화하는 것을 포기**하고 Pycharm에서 **Python의 WordCloud** 패키지와 
**파워포인트**에 글자 크기를 슬라이드에 꽉 채울 수 있을 정도로 최대로 키워서 이를 **캡쳐한 이미지 파일**을 이용해 wordcloud를 생성하는 방식으로 대체함으로써 해결하였습니다.


2. 기후 관련 의안들에서 추출한 명사들 중 특정 조건을 만족하는 단어를 제외하여 단어들을 추출하고 싶어 **출력값 리스트에서 remove** 함수를 실행시켰더니 **recursion error**가 발생했었습니다.
<br><br> ⇒ 새로운 빈 리스트를 생성하여 조건을 만족하는 단어를 **append**하는 방법으로 해결하였습니다.

3. **공공데이터포털**에서 제공하는 **Encoding** 키는 **웹페이지에서 URL로 입력**할 때 사용하는 인증키였고 파이참과 같은 **IDE를 사용하여 추출**할 때는 **Decoding** 키를 사용해야 하는 것을 Open API가 처음이었던 저는 이를 뒤늦게 깨달았고 심지어 그렇게 **Decoding 키로 출력한 데이터**는 원하는 한글이나 숫자로 나오지 않고 **UTF-8로 인코딩된 데이터**라 나와 당황했었습니다.
<br><br> ⇒  이를 **다시 한번 디코딩**함으로써 마침내 원하는 데이터를 출력함으로써 해결하였습니다.
    
![1](https://user-images.githubusercontent.com/109947297/203806349-055a574a-b346-4aa2-914a-73ee1629fca7.png)
![2](https://user-images.githubusercontent.com/109947297/203806430-4bbfc731-6a6f-4ba6-a5ef-ad04b328376e.png)

    
4. 공공데이터 포털 국회사무처_의안 정보 Open API **크롤링 결과**와 의안정보시스템 홈페이지 **DB 조회 결과가 서로 달라** 곤란한 상황에 처했었습니다. ⇒ 코드를 다시 짜서 18~20대와 21대 국회의원으로 **케이스를 나누어 코드를 작성함**으로써 해결하였습니다.
    
    ![https://user-images.githubusercontent.com/109947297/203540209-ba6bcf21-7af4-47d6-9400-efe4a96dcb36.PNG](https://user-images.githubusercontent.com/109947297/203540209-ba6bcf21-7af4-47d6-9400-efe4a96dcb36.PNG)
    
5. 기후변화 관련 법령 데이터도 OPEN API를 이용하려 했으나 **현행 법령은 잘 출력되지만** 무슨 이유인지 **폐기된 법령**에 대한 **워드 파일은 다운로드가 가능**한데 **크롤링은** 국가법령정보 공동활동에서 **불가능**하게 설정을 해놔서 데이터 수집 과정에 문제가 있었습니다.
<br><br> ⇒ 결국 주제에 필요한 법령 데이터는 **워드 파일로 다운받아 텍스트들을 메모장 파일에 붙여넣기**한 뒤 원하는 데이터들을 추출함으로써 해결하였습니다. 

